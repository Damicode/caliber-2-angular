<div class = "container">
    <!-- The max width is manually set to the same width as the original AngularJss webpage -->
    <table class="table table-responsive table-condensed"
            style="border-collapse: collapse; max-width: 1140px;">
            <thead>
                    <tr>
                            <!-- Spans over flag column --->
                            <th colspan="2">
                                Trainee
                            </th>
                            <td style="width: 20%;"></td>

                            <!-- Spans over extra space column --->
                            <th colspan="2">
                                Notes
                            </th>
                        </tr>
            </thead>
        <tbody>
            <!-- Every note contains an associate in the current batch -->

            <!-- Every column is given a percentage of the table for simplicity -->
            <tr *ngFor="let train of traineeArr" >
                <td  class="trainee-name" (click)="cycleFlagNotesInput(train.traineeId, true); cycleFlag(train.traineeId);" style="width: 11%;">
                         {{train.name}} 
                </td>
            
                <td>
                    <!-- Only shows the current flag, none if no flag is assigned -->
                    <i *ngIf="train.flagStatus==='RED'" class="glyphicon glyphicon-flag color-red"></i>
                    <i *ngIf="train.flagStatus==='GREEN'" class="glyphicon glyphicon-flag color-green"></i>
                    <i *ngIf="train.flagStatus==='null'" class="glyphicon glyphicon-flag" style="visibility: hidden;"></i>
                    <!-- Shows the flag notes popup if the user clicks the name column -->
                </td>
                <i>
                    <div *ngIf="flagNoteSwitch.indexOf(train.traineeId) != -1" class = "flag-notes-popup" >
                        <input class = "form-control" type="text" placeholder={{train.flagNotes}} #comment/>
                        <button (click)="commentOnTrainee(train,comment.value)" class ="btn btn-secondary flage-notes-save-btn">Save</button>
                        <button (click)="deleteFromSwitch(train.traineeId)" type="button" class="flage-notes-close-btn close" aria-label="Close">
                        <span class="glyphicon glyphicon-remove-sign"></span>
                        </button>
                    </div>

                </i>

                <!-- This is a small gap to add space in between columns -->
                <td></td>

                <td >
                    <textarea _ngcontent-c6="" class="form-control"  (blur)="noteOnBlur(train.traineeId, false)" 
                    id="note-textarea-{{train.traineeId}}" cols="75" maxlength="4000" rows="2" 
                    id="note-textarea-0" placeholder="Note on {{train.name}} "></textarea>
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
            <td><strong>Average</strong></td>
            <!-- <td
                ng-repeat="assessment in currentAssessments track by assessment.assessmentId">{{getTotalAssessmentAvgForWeek(assessment,trainees)
                ? (getTotalAssessmentAvgForWeek(assessment,trainees) |
                number:2) + "%" : "-"}}</td>
            <td>{{ (allAssessmentsAvgForWeek === false ? "Calculating
                Weekly Batch Avg " : "Weekly Batch Avg= " +
                allAssessmentsAvgForWeek) }}<i
                ng-show="!allAssessmentsAvgForWeek" class='fa fa-cog fa-spin'></i>
            </td> -->
        </tr>
        </tfoot>
    </table>
</div>
