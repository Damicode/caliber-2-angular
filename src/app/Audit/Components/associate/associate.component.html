<div class="container">
    <!-- The max width is manually set to the same width as the original AngularJss webpage -->
    <table class="table table-responsive table-condensed" style="border-collapse: collapse; max-width: 1140px;">
        <thead>
            <tr>
                <!-- Top row will span over all columns -->
                <td colspan="5">
                    <strong>Categories covered this week: </strong>
                    <!-- Tracked last item in list to prevent last comma from being printed -->
                    <span *ngFor="let cat of categories; let isLast=last">
                        {{cat.name}}{{isLast ? '' : ', '}}
                    </span>
                    <br>
                </td>
            </tr>
            <tr>
                <td>
                    <span>
                        <button class="btn btn-primary" (click)="toggleNotesArray()" id="toggleNoteSort">Sort
                            Randomly</button>
                    </span>
                </td>
            </tr>
            <tr>
                <!-- Spans over flag column --->
                <th colspan="2">
                    Trainee
                </th>
                <!-- Spans over extra space column --->
                <th colspan="2">
                    Individual Feedback
                </th>
                <th>
                    Notes
                </th>
            </tr>
        </thead>
        <tbody>
            <!-- Every note contains an associate in the current batch -->
            <!-- Every column is given a percentage of the table for simplicity -->
            
            <tr *ngFor="let QcNote of notes" class = "NoteRow" >
                <td style="width: 11%;">
                    <div *ngIf = "QcNote.trainee.flagStatus === 'RED'" class = "flag-note-area-red"></div>
                    <div *ngIf = "QcNote.trainee.flagStatus === 'GREEN'" class = "flag-note-area-green"></div>
                    <div *ngIf = "QcNote.trainee.flagStatus === 'NONE'" class = "flag-note-area-empty"></div>
                    &nbsp;&nbsp; {{ QcNote.trainee.name }}<br> 
    
                   <i (click) = "deployModal(QcNote.noteId)" class = "fa fa-ellipsis-h options" style = "margin: 10px 5px; color:rgba(0, 0, 0, 0.500); cursor: pointer;"></i>
                   
                    
                </td>
                <td style="width: 3%; position:absolute;">
                    <!--Buffer area-->
                </td>
                <td>
                   <div class="dropdown">
                    <div>
                        <i *ngIf="QcNote.qcStatus=='Undefined'" class="qcStatusIcon fa fa-question-circle fa-2x pick"
                            style="margin: auto 30px; text-align: center;"></i>
                        <i *ngIf="QcNote.qcStatus=='Superstar'" class="qcStatusIcon fa fa-star fa-2x pick"
                            style="margin: auto 30px; text-align: center;"></i>
                        <i *ngIf="QcNote.qcStatus=='Good'" class="qcStatusIcon fa fa-smile-o fa-2x pick"
                            style="margin: auto 30px;text-align: center;"></i>
                        <i *ngIf="QcNote.qcStatus=='Average'" class="qcStatusIcon fa fa-meh-o fa-2x pick"
                            style="margin: auto 30px; text-align: center;"></i>
                        <i *ngIf="QcNote.qcStatus=='Poor'" class="qcStatusIcon fa fa-frown-o fa-2x pick"
                            style="margin: auto 30px; text-align: center;"></i>
                    </div>
                    <div class="dropdown-content" style="margin: auto -95px">
                        <a data-toggle="collapse" (click)="setScore('Undefined',QcNote.noteId);"
                            class="qcStatusIcon fa fa-question-circle fa-2x pick no-padding"></a>
                        <a data-toggle="collapse" (click)="setScore('Superstar',QcNote.noteId);"
                            class="qcStatusIcon fa fa-star fa-2x pick no-padding"></a>
                        <a data-toggle="collapse" (click)="setScore('Good',QcNote.noteId);"
                            class="qcStatusIcon fa fa-smile-o fa-2x pick no-padding"></a>
                        <a data-toggle="collapse" (click)="setScore('Average',QcNote.noteId); "
                            class="qcStatusIcon fa fa-meh-o fa-2x pick no-padding"></a>
                        <a data-toggle="collapse" (click)="setScore('Poor', QcNote.noteId); "
                            class="qcStatusIcon fa fa-frown-o fa-2x pick no-padding"></a>
                    </div>
                </div> 
                </td>
                <!-- This is a small gap to add space in between columns -->
                <td style="width: 3%;"></td>
                <td style="width: 76%;">
                    <textarea (blur)="noteOnBlur(QcNote.noteId, false)" id="note-textarea-{{QcNote.noteId}}"
                        class="form-control" placeholder="Note on {{ QcNote.trainee.name }}" rows="3" cols="75"
                        maxlength="4000">{{ QcNote.content }}</textarea>
                </td>
            </tr>
        </tbody>
    </table>
</div>